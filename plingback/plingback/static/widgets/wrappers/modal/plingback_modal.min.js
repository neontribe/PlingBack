function plingbackbutton(){function q(a,c,b){if(a.addEventListener){a.addEventListener(c,b,false);return true}else return a.attachEvent?a.attachEvent("on"+c,b):false}function r(){if(window.innerHeight!==undefined)return window.innerHeight;if(document.compatMode=="CSS1Compat")return document.documentElement.clientHeight;if(document.body)return document.body.clientHeight}function s(){if(window.innerWidth!==undefined)return window.innerWidth;if(document.compatMode==="CSS1Compat")return document.documentElement.clientWidth;
if(document.body)return document.body.clientWidth}function x(){if(self.pageYOffset)return self.pageYOffset;else if(document.documentElement&&document.documentElement.scrollTop)return document.documentElement.scrollTop;else if(document.body)return document.body.scrollTop}function y(){theBody=document.getElementsByTagName("BODY")[0];popmask=document.createElement("div");popmask.id="popupMask";popcont=document.createElement("div");popcont.id="popupContainer";popcont.innerHTML='<div id="popupInner"><div id="popupTitleBar"><div id="popupTitle"></div><div id="popupControls"><a id="popClose" href="#" >close</a></div></div><iframe src="'+
t+'" style="width:100%;height:100%;background-color:transparent;" scrolling="no" frameborder="0" allowtransparency="true" id="popupFrame" name="popupFrame" width="100%" height="100%"></iframe></div>';theBody.appendChild(popmask);theBody.appendChild(popcont);gPopClose=document.getElementById("popClose");gPopClose.onclick=function(){l=false;document.getElementsByTagName("BODY")[0].style.overflow="";if(document.all)for(var c=0,b=0;b<m.length;b++)for(var d=document.getElementsByTagName(m[b]),e=0;e<d.length;e++){d[e].tabIndex=
u[c];d[e].tabEnabled=true;c++}if(g!==null){g.style.display="none";f.style.display="none";j.src=t;if(o===true){c=document.getElementsByTagName("SELECT");for(i=0;c&&i<c.length;i++)c[i].style.visibility="visible"}}return false};g=document.getElementById("popupMask");f=document.getElementById("popupContainer");j=document.getElementById("popupFrame");if(parseInt(window.navigator.appVersion.charAt(0),10)<=6&&window.navigator.userAgent.indexOf("MSIE")>-1)o=true;var a=document.getElementsByTagName("a");for(i=
0;i<a.length;i++)if(a[i].className.indexOf("submodal")===0)a[i].onclick=function(){var c=400,b=200;params=this.className.split("-");if(params.length==3){c=parseInt(params[1],10);b=parseInt(params[2],10)}v(this.href,c,b,null);return false}}function v(a,c,b,d,e){if(e||e!==false)document.getElementById("popClose").style.display="block";else document.getElementById("popClose").style.display="none";l=true;if(document.all)for(e=d=0;e<m.length;e++)for(var k=document.getElementsByTagName(m[e]),h=0;h<k.length;h++){u[d]=
k[h].tabIndex;k[h].tabIndex="-1";d++}g.style.display="block";f.style.display="block";n(c,b);d=parseInt(document.getElementById("popupTitleBar").offsetHeight,10);f.style.width=c+"px";f.style.height=b+d+"px";w();j.style.width=parseInt(document.getElementById("popupTitleBar").offsetWidth,10)+"px";j.style.height=b+"px";j.src=a;if(o===true){a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="hidden"}window.setTimeout(z,600)}function n(a,c){if(l===true){if(a===null||
isNaN(a))a=f.offsetWidth;if(c===null)c=f.offsetHeight;var b=document.getElementsByTagName("BODY")[0],d=parseInt(x(),10);b=parseInt(b.scrollLeft,10);w();var e=parseInt(document.getElementById("popupTitleBar").offsetHeight,10),k=r(),h=s();f.style.top=d+(k-(c+e))/2+"px";f.style.left=b+(h-a)/2+"px"}}function w(){var a=document.getElementsByTagName("BODY")[0],c=r(),b=s();popHeight=c>a.scrollHeight?c:a.scrollHeight;popWidth=b>a.scrollWidth?b:a.scrollWidth;g.style.height=popHeight+"px";g.style.width=popWidth+
"px"}function z(){if(window.frames.popupFrame.document.title===null)window.setTimeout("setPopTitle();",10);else document.getElementById("popupTitle").innerHTML=window.frames.popupFrame.document.title}function A(a){if(l&&a.keyCode==9)return false}var g=null,f=null,j=null,l=false,t="",o=false,u=[],m=["A","BUTTON","TEXTAREA","INPUT","IFRAME"];if(!document.all)document.onkeypress=A;q(window,"resize",n);q(window,"scroll",n);window.onscroll=n;var p=document.getElementsByTagName("button");for(i=0;i<p.length;i++)if(p[i].className.indexOf("plingback_button")===
0)p[i].onclick=function(){var a=null;try{a=document.createElement("style")}catch(c){a=document.createStyleSheet("styles.css")}a.type="text/css";a.rel="stylesheet";a.media="screen";a.title="Plingback Popup Stylesheet";document.getElementsByTagName("head")[0].appendChild(a);a=document.styleSheets[document.styleSheets.length-1];var b={"#popupTitle":["float:right;","font-size: 1.1em;","display: none;"],"#popupFrame":["margin: 0px;","width: 100%;","height: 100%;","position: relative;","z-index: 202;",
"overflow: hidden;"],"#popupInner":["border: 0px solid #000000;","background-color: transparent;","overflow: visible;"],"#popupMask":["position: absolute;","z-index: 200;","top: 0px;","left: 0px;","width: 100%;","height: 100%;","opacity: .4;","filter: alpha(opacity=40);","background-color:transparent !important;","background-color: #333333;",'background-image: url("http://plingback.appspot.com/widgets/wrappers/modal/mask.png") !important;',"background-image:none;","background-repeat: repeat;","display:none;"],
"#popupTitleBar":["background: transparent;","color: #ffffff;","font-weight: bold;","height: 1.3em;","padding: 5px;","position: relative;","z-index: 203;"],"#popupContainer":["position: absolute;","background: transparent;","z-index: 201;","top: 0px;","left: 0px;","display:none;","padding: 0px;"],"#popupControls":["position:relative;"],"#popupControls a":["display: block;","width: 30px;","height: 30px;","text-indent: -999999px;","position: absolute;","top: 10px;","left: -20px;",'background:transparent url("http://plingback.appspot.com/widgets/wrappers/modal/close.png");']};
for(selector in b)if(a.addRule)for(i=0;i<b[selector].length;i++)a.addRule(selector,b[selector][i]);else{var d="";for(i=0;i<b[selector].length;i++)d+=b[selector][i]+" ";a.insertRule(selector+"{"+d+"}",a.cssRules?a.cssRules.length:0)}y();a="/widgets/fastfeedback/fastfeedback.html?";a+="pling_id="+this.value;v(a,310,280,null);return false}}window.plingbackbutton_defer_init!==true&&plingbackbutton();
